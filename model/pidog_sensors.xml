<!--
  PiDog Sensor Definitions for MuJoCo

  This file defines sensors matching the real PiDog hardware:
  - Camera (OV5647 5MP) - Front-facing RGB camera
  - Ultrasonic (HC-SR04) - Distance sensor (2-450cm range)
  - IMU (MPU6050) - 6-DOF: 3-axis accelerometer + 3-axis gyroscope

  Sensors are attached to sites defined in pidog.xml
  Noise parameters match real hardware specifications
-->

<mujoco>
  <sensor>
    <!-- ==================== CAMERA SENSOR ==================== -->
    <!-- Note: Camera is defined in worldbody/body, not in sensor section -->
    <!-- See pidog.xml for camera definition in head body -->


    <!-- ==================== ULTRASONIC RANGEFINDER ==================== -->
    <!-- HC-SR04 Ultrasonic Distance Sensor -->
    <!-- Range: 2cm - 450cm (0.02m - 4.5m) -->
    <!-- Accuracy: ±3mm (0.003m) -->
    <!-- Beam angle: <15° (narrow cone along Z-axis) -->

    <rangefinder name="ultrasonic"
                 site="ultrasonic_site"
                 cutoff="4.5"
                 noise="0.003"/>


    <!-- ==================== IMU SENSORS (MPU6050) ==================== -->
    <!-- Mounted at center of body (electronics compartment) -->

    <!-- 3-Axis Accelerometer -->
    <!-- Range: ±16g (to handle impacts and dynamic motion) -->
    <!-- Noise: ~0.01 m/s² (typical MPU6050 noise level) -->
    <!-- Output: [ax, ay, az] in m/s² (includes gravity) -->

    <accelerometer name="imu_accel"
                   site="imu_site"
                   noise="0.01"/>


    <!-- 3-Axis Gyroscope -->
    <!-- Range: ±1000°/s (~17.45 rad/s) for dynamic movements -->
    <!-- Noise: ~0.005 rad/s (typical MPU6050 noise level) -->
    <!-- Output: [ωx, ωy, ωz] in rad/s -->

    <gyro name="imu_gyro"
          site="imu_site"
          noise="0.005"/>


    <!-- ==================== OPTIONAL SENSORS ==================== -->
    <!-- These can be enabled if needed for future enhancements -->

    <!-- Magnetometer (if using 9-DOF IMU instead of 6-DOF) -->
    <!-- Currently commented out - MPU6050 doesn't have magnetometer -->
    <!--
    <magnetometer name="imu_mag"
                  site="imu_site"
                  noise="0.01"/>
    -->

    <!-- Frame-based sensors for debugging (optional) -->
    <!-- Uncomment these to get direct pose/velocity from simulation -->
    <!--
    <framepos name="body_position" objtype="body" objname="base"/>
    <framequat name="body_quat" objtype="body" objname="base"/>
    <framelinvel name="body_linvel" objtype="body" objname="base"/>
    <frameangvel name="body_angvel" objtype="body" objname="base"/>
    -->

  </sensor>
</mujoco>
